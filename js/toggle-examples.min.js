"use strict";document.addEventListener("DOMContentLoaded",()=>{class e{constructor(e){this._name=e.name,this._id=e.id,this._button=e.button,this._result=e.resultBox,this._exampleBox=this._id+" .tp-example__box",this._codeBox=this._exampleBox+" .code-box",this.d=document,this._ge={qs:e=>this.d.querySelector(e),qsa:e=>this.d.querySelectorAll(e)},this._logs=[{code:"001",name:"<Wrong property error>",message:"You cannot use this method untill you set this property of the class!",howToFix:"Just set this propery right and try again",lineNumber:157},{code:"002",name:"<Block id is null>",message:"Function cannot get the element. It returns null.",howToFix:"Perhaps, it's normal. Just there is no such code block. It locate on another page. Also this may be an error of creating list of the code-blocks.",lineNumber:54}]}toggleVisible(){try{if(null===this._ge.qs(this._id))throw this._logs[1];this._ge.qs(this._id+" "+this._button).addEventListener("click",e=>{if("none"===this._ge.qs(this._exampleBox).style.display)if(e.target.parentNode.setAttribute("title","Скрыть пример"),e.target.parentNode.classList.add("button_active"),this._ge.qs(this._exampleBox).style.display="block",this._ge.qs(this._exampleBox+" .gears__block").style.display="grid",null!=this._result){this._ge.qsa(this._codeBox).forEach(e=>e.classList.add("code-box_active","wow","fadeInLeft"))}else this._ge.qs(this._codeBox).classList.add("code-box_active","wow","fadeInLeft");else e.target.parentNode.setAttribute("title","Показать пример"),e.target.parentNode.classList.remove("button_active"),this._ge.qs(this._exampleBox).style.display="none",this._ge.qs(this._exampleBox+" .gears__block").style.display="none",this._ge.qs(this._codeBox).classList.remove("code-box_active","wow","fadeInLeft");null!=this._result&&(this._ge.qs(this._id+" "+this._result).style.display="block")}),this._setStringNumbers(this._codeBox),this._showResult(this._exampleBox),this._addScrollBar(this._codeBox,900,"900px")}catch(e){return this._logError(e)}}_setStringNumbers(e,t){try{if(t){this._ge.qsa(e+" .res-item .string__number").forEach((e,t)=>e.innerText=t+1)}else{this._ge.qsa(e+" .code-box__item .string__number").forEach((e,t)=>{e.parentNode.classList.contains("res-item")||(e.innerText=t+1)})}}catch(e){return this._logError(e)}}_addScrollBar(e,t,s){try{if(this.d.body.clientWidth<=t)if(null!=this._result){this._ge.qsa(e).forEach(e=>{e.classList.add("code-box-scrolling");let t=e.childNodes;for(let e=1;e<t.length;e+=2)t[e].style.width=s})}else{this._ge.qs(e).classList.add("code-box-scrolling"),this._ge.qsa(e+" .code-box__item").forEach(e=>e.style.width=s)}}catch(e){return this._logError(e)}}_showResult(e){try{if(null==this._result)return!1;this._ge.qs(e+" "+this._result);this._test(this._setStringNumbers(e+" "+this._result,!0))}catch(e){this._logError(e)}}_logError(e){const t={name:e.name,error:e.message,line:e.lineNumber,howToFix:e.howToFix,code:e.code};this._test(t)}_showError(e){console.error(e.code,"\n Name: ",e.name,"\n Message: ",e.message,"\n line: ",e.line,"\n How to fix: ",e.howToFix)}_test(e){if("object"==typeof e){let t,s=0;this._logs.forEach(o=>{for(;void 0===t;)s>this._logs.length?(t=e,null==t.code?(t.code="000",t.message=e.error,t.howToFix="I dunno."):t.message=t.error):o.code===e.error.substr(0,3)&&(t=o),s++}),this._showError(t)}}}[{name:"codeBox_1",id:"#code-box_1",button:".button",resultBox:".code-box_result"},{name:"codeBox_2",id:"#code-box_2",button:".button",resultBox:".code-box_result"}].forEach(t=>{new e(t).toggleVisible()})});