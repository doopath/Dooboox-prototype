"use strict";document.addEventListener("DOMContentLoaded",()=>{class t extends Logger{constructor(t){super(),this._logs=t.logs,this._rules=t.rules,this._styles=t.styles,this._name=t.name,this._id=t.id,this._button=t.button,this._result=t.resultBox,this._exampleBox=this._id+" .tp-example__box",this._codeBox=this._exampleBox+" .code-box",this.d=document,this._ge={qs:t=>this.d.querySelector(t),qsa:t=>this.d.querySelectorAll(t)},this._logs=[]}toggleVisible(){try{if(null===this._ge.qs(this._id)){let t=(new Error).lineNumber-1;this._throw(logs[2],t)}this._ge.qs(this._id+" "+this._button).addEventListener("click",t=>{if("none"===this._ge.qs(this._exampleBox).style.display)if(t.target.parentNode.setAttribute("title","Скрыть пример"),t.target.parentNode.classList.add("button_active"),this._ge.qs(this._exampleBox).style.display="block",this._ge.qs(this._exampleBox+" .gears__block").style.display="grid",null!=this._result){this._ge.qsa(this._codeBox).forEach(t=>t.classList.add("code-box_active","wow","fadeInLeft"))}else this._ge.qs(this._codeBox).classList.add("code-box_active","wow","fadeInLeft");else t.target.parentNode.setAttribute("title","Показать пример"),t.target.parentNode.classList.remove("button_active"),this._ge.qs(this._exampleBox).style.display="none",this._ge.qs(this._exampleBox+" .gears__block").style.display="none",this._ge.qs(this._codeBox).classList.remove("code-box_active","wow","fadeInLeft");null!=this._result&&(this._ge.qs(this._id+" "+this._result).style.display="block")}),this._setStringNumbers(this._codeBox),this._showResult(this._exampleBox),this._addScrollBar(this._codeBox,900,"900px"),this._syntaxHighlighting(this._codeBox,this._styles)}catch(t){return this._log(t)}}_setStringNumbers(t,s){try{if(s){this._ge.qsa(t+" .res-item .string__number").forEach((t,s)=>t.innerText=s+1)}else{this._ge.qsa(t+" .code-box__item .string__number").forEach((t,s)=>{t.parentNode.classList.contains("res-item")||(t.innerText=s+1)})}}catch(t){return this._log(t)}}_syntaxHighlighting(t){const s=this._ge.qsa(t+" .code-box__item .code"),e=new Highlighter(this._rules);s.forEach(t=>{t.classList.contains("code-result")||(t.innerHTML=e.highlight(t.innerText,this._rules,this._styles))})}_addScrollBar(t,s,e){try{if(this.d.body.clientWidth<=s)if(null!=this._result){this._ge.qsa(t).forEach(t=>{t.classList.add("code-box-scrolling");let s=t.childNodes;for(let t=1;t<s.length;t+=2)s[t].style.width=e})}else{this._ge.qs(t).classList.add("code-box-scrolling"),this._ge.qsa(t+" .code-box__item").forEach(t=>t.style.width=e)}}catch(t){return this._log(t)}}_showResult(t){try{if(null==this._result)return!1;this._ge.qs(t+" "+this._result);this._setStringNumbers(t+" "+this._result,!0)}catch(t){return this._log(t)}}}codeBoxes.forEach(s=>{new t(s).toggleVisible()})});